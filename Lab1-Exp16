#include <stdio.h>

int main() {
    int m, n;
    int board[50][50], next[50][50];
    int i, j, x, y;
    int dx[8] = {-1, -1, -1, 0, 0, 1, 1, 1};
    int dy[8] = {-1, 0, 1, -1, 1, -1, 0, 1};

    printf("Enter grid size (m n): ");
    scanf("%d %d", &m, &n);

    printf("Enter current state of board (%d x %d):\n", m, n);
    for(i = 0; i < m; i++)
        for(j = 0; j < n; j++)
            scanf("%d", &board[i][j]);

    for(i = 0; i < m; i++) {
        for(j = 0; j < n; j++) {
            int liveNeighbors = 0;

            for(int k = 0; k < 8; k++) {
                x = i + dx[k];
                y = j + dy[k];
                if(x >= 0 && x < m && y >= 0 && y < n)
                    liveNeighbors += board[x][y];
            }

            if(board[i][j] == 1) {
                if(liveNeighbors < 2 || liveNeighbors > 3)
                    next[i][j] = 0;  // dies
                else
                    next[i][j] = 1;  // lives
